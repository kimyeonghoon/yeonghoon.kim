<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">
	<select id="getBoardList" parameterType="hashmap" resultType="hashmap">
		SELECT b.board_content_no AS content_no,
			   b.board_content_name AS content_name,
			   m.member_name AS member_name,
			   DATE_FORMAT(b.board_content_reg_time, '%Y-%m-%d') AS reg_time,
			   b.board_content_hit AS hit
		FROM board_content b INNER JOIN member m
									 ON b.member_no = m.member_no
		WHERE b.board_no = 1
		AND board_content_del_time IS NULL
		ORDER BY board_content_no DESC
	</select>
	<select id="getBoardListCnt" parameterType="hashmap" resultType="Integer">
		SELECT COUNT(board_content_no) AS bCount
		FROM board_content
		WHERE board_no = 1
		AND board_content_del_time IS NULL
	</select>
	<select id="getBoardContent" parameterType="hashmap" resultType="hashmap">
		SELECT m.member_name AS member_name,
			   DATE_FORMAT(b.board_content_reg_time, '%Y-%m-%d %H:%m:%s')AS reg_time,
			   b.board_content_name AS content_name,
			   b.board_content_detail AS content_detail
		FROM board_content b INNER JOIN (SELECT member_no, member_name
										 FROM member) AS m
									 ON b.member_no = m.member_no
		WHERE b.board_content_no = #{boardNo}
	</select>
</mapper>